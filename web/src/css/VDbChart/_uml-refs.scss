.db-ref {
  &__path {
    fill: none;
    stroke: var(--ref-color);
    stroke-width: 6;
    stroke-linejoin: round;
    stroke-linecap: butt;
  }
  &__hitbox {
    fill: none;
    stroke: transparent;
    stroke-width: 29;
  }

  &__highlight {
    .db-ref__path {
      stroke: var(--ref-highlight-color);
    }

    .db-ref__control-point {
      display: unset;
    }

    .db-ref__marker {
      opacity: 1;
    }
  }

  &__control-point {
    display: none;
    fill: black;
    stroke: var(--ref-highlight-color);
    stroke-width: 1;
    r: 5;

    &__highlight {
      r: 6;
      stroke-width: 2;
    }

    &__dragging {
      fill: var(--ref-highlight-color)
    }
  }

  &__marker {
    opacity: 1;
    
    path {
      stroke: var(--ref-color);
      stroke-width: 2;
      fill: var(--ref-color);
    }
  }
  
  &__highlight &__marker path {
    stroke: var(--ref-highlight-color);
    fill: var(--ref-highlight-color);
  }

  // One-to-Many (default) - Blue color
  &__one-to-many,
  &__association {
    .db-ref__path {
      stroke: #2196F3; // Blue for one-to-many
    }
    
    &__marker-association-end path {
      stroke: #2196F3;
      fill: #2196F3;
      stroke-width: 2;
    }
  }

  // Many-to-Many - Green color  
  &__many-to-many {
    .db-ref__path {
      stroke: #4CAF50; // Green for many-to-many
      stroke-dasharray: 5, 5; // Dashed line to differentiate
    }
    
    path {
      stroke: #4CAF50;
      fill: #4CAF50;
    }
  }

  // One-to-One - Purple color
  &__one-to-one {
    .db-ref__path {
      stroke: #9C27B0; // Purple for one-to-one
      stroke-width: 3; // Slightly thinner
    }
    
    path {
      stroke: #9C27B0;
      fill: #9C27B0;
    }
  }

  // Composition - Dark red/black
  &__composition {
    .db-ref__path {
      stroke: #D32F2F; // Dark red for composition
    }
    
    &__marker-composition-start path {
      fill: #D32F2F;
      stroke: #D32F2F;
      stroke-width: 2;
    }
    &__marker-composition-end path {
      stroke: #D32F2F;
      fill: #D32F2F;
      stroke-width: 2;
    }
  }

  // Aggregation - Orange
  &__aggregation {
    .db-ref__path {
      stroke: #FF9800; // Orange for aggregation
    }
    
    &__marker-aggregation-start path {
      fill: white;
      stroke: #FF9800;
      stroke-width: 2;
    }
    &__marker-aggregation-end path {
      stroke: #FF9800;
      fill: #FF9800;
      stroke-width: 2;
    }
  }

  // Generalization (inheritance) - Teal
  &__generalization {
    .db-ref__path {
      stroke: #009688; // Teal for inheritance
      stroke-width: 3;
    }
    
    &__marker-generalization-start path,
    &__marker-generalization-end path {
      fill: white;
      stroke: #009688;
      stroke-width: 2;
    }
  }
}
